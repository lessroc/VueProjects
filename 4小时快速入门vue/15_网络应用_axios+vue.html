<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>axios+vue</title>
	<!-- 官网提供的 axios 在线地址 -->
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<script src="js/vue.js"></script>
</head>
<body>

<div id="app">
	<input type="button" value="获取笑话" @click="getJoke">
	<p> {{ joke }} </p>
</div>
<script>
	/*
			接口1：随机获取一条笑话
			请求地址：https://autumnfish.cn/api/joke/list
			请求方法：get
			请求响应：num(笑话条数，数字)
			相应内容：随机笑话
	 */
	var app = new Vue({
		el: '#app',
		data: {
			joke: '点击获取笑话：很搞笑的笑话'
		},
		methods: {
			getJoke: function () {
				// console.log(this.joke);
				var that = this;
				axios.get("https://autumnfish.cn/api/joke")
						.then(function (response) {
							// console.log(response);
							console.log(response.data);
							// console.log(this.joke);
							that.joke = response.data;
						}, function (err) {
							console.log(err);
						})
			}
		}
	})
</script>
</body>
</html>
